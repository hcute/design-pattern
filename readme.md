# 设计模式

## UML 简单入门

### UML 类图和时序图介绍

- 类图的定义

  - 统一建模语言 unified modeling language
  - 非专利的第三代建模和规约语言

- 类图的特点

  - 开放的方法
  - 用于说明、可视化、构建和编写一个正在开发的面向对象的、软件密集系统的制品的开放方法
  - 一系列最佳工程实践
    - 这些最佳实践在大规模、复杂系统进行建模方面，特别是在软件架构层次已被认证有效

- 类图的分类

  - UML2.2分类
    - 结构式图形：强调的是系统式的建模
      - 静态图：类图、对象图、包图
      - 实现图：组件图、部署图
      - 剖面图
      - 复合结构图
    - 行为式图形：强调系统模型中触发的事件
      - 活动图
      - 状态图
      - 用例图
    - 交互式图形：属于行为式图形的子集合，强调系统模型中资料流程
      - 通信图
      - 交互概述图（UML2.0）
      - 时序图（UML2.0）
      - 时间图（UML2.0）

- 类图

  - Class Diagram：用于表示类、接口、实例等之间相互的静态关系

  - 记忆技巧：

    - 实现和继承

      ![](UML实现和继承.png)

      - UML的箭头方向：从子类指向父类
      - 空心三角箭头表示继承或实现
        - 虚线表示实现
        - 实现表示继承 

    - 箭头表示关联｜依赖

      - 实线关联

        ![](UML关联关系.png) 

        - 类中另外一个类为属性

      - 虚线依赖

         ![](UML依赖关系.png)

        - 类为方法的返回或方法的参数

    - 空心菱形 聚合

      ![](UML聚合关系.png)

      - 代表空器皿里可以放很多东西，聚在一起（箭头所指的类）
      - 整体和局部的关系，有独立的生命周期，是 has a关系，是个弱关系 就是空心

    - 实心菱形 组合

      ![](UML组合关系.png)

      - 代表满器皿中已经有实体结构的存在，生死与共
      - 整体和局部的关系，有相同的生命周期，contains-a关系，强关系 实心

      

      > 常见的数字表示含义
      >
      > 假设有A类和B类，数字标记在A侧
      >
      > 0..1  B类和0或1个A实例相关
      >
      > 0..*   B类和0或多个A实例相关
      >
      > 1..1. B类和1个A实例相关
      >
      > 1      B类和A类只有一个相关
      >
      > 1..*   B类和A类至少有一个实例相关

      

- 时序图

  ​	![](UML时序图.png)

  - Sequence Diagram：是显示对象之间交互的图，这些对象是按照时间排列的
  - 包含元素：
    - 对象 Actor
    - 生命线 Lifeline
    - 控制焦点 Focus of control
    - 消息 message 

  

### UML类图详细说明

![](UML类图详细图.png)

> 第一行：类的说明：抽象类，实体类，接口
>
> 第二行：类的属性 
>
> ​	+ public - private #protected  ～default  横线代表static 
>
> 第三行：类的行为



- 实例

  ![](UML详细实例.png)





## 设计原则

### 开闭原则

- 定义
  - 一个软件实体如类、模块、函数应该对扩展开放，对修改关闭
- 精髓
  - 用抽象构建架构，用实现扩展细节
  - 面向抽象编程
- 优点
  - 提高软件系统的可复用性及可维护性

### 依赖倒置原则

### 单一职责原则

### 接口隔离原则

### 迪米特法则（最少知道原则）

### 里氏替换原则

### 合成/复用原则（组合/复用原则）



